<div class="non-intent-wrapper">
    <div class="header-sec">
        <div class="left-sec">
            <img src="assets/icons/coaching/coaching--message-check-square.svg">
            <span>Pre-Build</span>
        </div>
        <div (click)="closeSlider()" class="close-slider">
            <i class="icon-sa-close"></i>
        </div>
    </div>
    <div class="body-wrapper">
        <div class="utterance-block">
            <div class="top-heading-info">
                <p>None intent utterances are used to prevent false positives while doing intent recognition....</p>
                <div class="seach-block">
                    <div class="kr-sg-input-text">
                        <input type="text" placeholder="Search" class="input-text" [(ngModel)]="selectedUtterSeach">
                        <i class="icon-coaching--search"></i>
                        <!-- <span class="press-enter">Press Enter to confirm search</span> -->
                    </div>
                    <button *ngIf="!clickAddUtter" class="kr-sg-button-primary btn_lg" (click)="clickAddUtter = true;">Add Utterance(s)</button>
                </div>
            </div>
            <div class="added-uterances-blk">
                <perfect-scrollbar>
                    <div class="pading-blk">
                        <ng-container *ngFor="let utter of selectedUtterances | filter: [ selectedUtterSeach, 'utterance']; let i = index">
                            <div class="utt-text">
                                <span [title]="utter?.utterance">{{utter?.utterance}}</span>
                                <div class="delete-utt" (click)="deleteUtterance(utter)">
                                    <i class="icon-sa-welcome-delete"></i>
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngFor="let utter of newUtterances | filter: [ selectedUtterSeach] ; let i = index">
                            <div class="utt-text">
                                <span [title]="utter">{{utter}}</span>
                                <div class="delete-utt" (click)="deleteNewUtterance(utter)">
                                    <i class="icon-sa-welcome-delete"></i>
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="!(selectedUtterances | filter: [ selectedUtterSeach, 'utterance'])?.length && !(newUtterances | filter: [ selectedUtterSeach])?.length">
                            <div class="empty-search">
                                <div class="img-block-empty">
                                    <img src="assets/icons/empty-search-add.svg">
                                </div>
                                <h1>No results found</h1>
                                <p>No results found for your query "{{selectedUtterSeach}}"</p>
                            </div>
                        </ng-container>
                    </div>
                </perfect-scrollbar>
            </div>
        </div>
        <div class="add-utterance-block" [ngClass]="{'d-none': !clickAddUtter}">
            <h1>Add Utterances</h1>
            <div class="utt-radio-block">
                <div class="radio-block-content active-check">
                    <div class="kr-sg-radiobutton">
                        <input id="radio-1" name="radio" class="radio-custom" type="radio">
                        <label for="radio-1" class="radio-custom-label">
                            <div class="title">AI Assist</div>
                            <div class="desc-text">Select rules and generate more utterances for the rule with AI</div>
                        </label>
                    </div> 
                    <div class="add-rule-block">
                        <div class="label-text">Add Rules</div>
                        <mat-form-field class="add-rules-chip-list">
                            <!-- <mat-label>Add Tags</mat-label> -->
                            <mat-chip-list #chipList>
                                <mat-chip *ngFor="let tag of tags" [selectable]="true" [removable]="true" (removed)="remove(tag.name)">
                                    <span class="chip-name text-truncate mx-w-100" title="{{tag.name}}">{{tag.name}}</span>
                                    <span class="icon-sa-close" matChipRemove *ngIf="true"></span>
                                </mat-chip>
                                <input placeholder="Add Tags" #tagInput [matChipInputFor]="chipList"
                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="false"
                                    (matChipInputTokenEnd)="add($event)" [matAutocomplete]="auto" [formControl]="tagControl"
                                    #trigger="matAutocompleteTrigger">
                            </mat-chip-list>
                            <mat-autocomplete #auto="matAutocomplete">
                                <!-- <div class="mat-checkboxs">
                                    <mat-option *ngFor="let tag of filteredTagsDisplay;let i = index" [title]="tag"
                                        (click)="selectedOption(tag.name, i);$event.stopPropagation();trigger.openPanel()">
                                        <input id="checkbox-{{i}}" type="checkbox"
                                            (click)="selectedOption(tag.name, i);trigger.openPanel();$event.stopPropagation();" [value]="tag.name"
                                            [checked]="tag.checked">
                                            <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                <span>{{tag.name}}</span>
                                            </div>                            
                                    </mat-option>
                                </div> -->
                                <div class="content-scroll">
                                    <div class="search-block">
                                        <div class="kr-sg-input-text">
                                            <input type="text" placeholder="Search" class="input-text">
                                            <i class="icon-coaching--search"></i>
                                        </div>
                                    </div>
                                    <ng-container>
                                        <div class="tags-data">
                                            <div class="title">tags</div>
                                            <div class="select-all">Select All</div>
                                        </div>
                                        <ng-container>
                                            <mat-option *ngFor="let tag of allTags;let i = index" [title]="tag"
                                                    (click)="selectedOption(tag.name, i);$event.stopPropagation();trigger.openPanel()">
                                                    <input id="checkbox-{{i}}" type="checkbox"
                                                        (click)="selectedOption(tag.name, i);trigger.openPanel();$event.stopPropagation();" [value]="tag.name"
                                                        [checked]="tag.checked">
                                                        <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                            <span>{{tag.name}}</span>
                                                            <div class="desc-text">14 rules</div>
                                                        </div>                            
                                                </mat-option>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container>
                                        <div class="tags-data">
                                            <div class="title">rULeS</div>
                                            <div class="select-all">Select All</div>
                                        </div>
                                        <ng-container>
                                            <mat-option *ngFor="let tag of allRules;let i = index" [title]="tag"
                                                    (click)="selectedOption(tag.name, i);$event.stopPropagation();trigger.openPanel()">
                                                    <input id="checkbox-{{i}}" type="checkbox"
                                                        (click)="selectedOption(tag.name, i);trigger.openPanel();$event.stopPropagation();" [value]="tag.name"
                                                        [checked]="tag.checked">
                                                        <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                            <span>{{tag.name}}</span>
                                                            <div class="desc-text">14 rules</div>
                                                        </div>                            
                                                </mat-option>
                                        </ng-container>
                                    </ng-container>
                                </div>
                                <div class="footer-add-cler">
                                    <button class="kr-sg-button-secondary-two btn_lg">Clear</button>
                                    <button class="kr-sg-button-primary btn_lg">Add</button>
                                </div>
                            </mat-autocomplete>
                        </mat-form-field>

                    </div> 
                </div>
                <div class="radio-block-content">
                    <div class="kr-sg-radiobutton">
                        <input id="radio-11" name="radio" class="radio-custom" type="radio">
                        <label for="radio-11" class="radio-custom-label">
                            <div class="title">Input Utterances Manually</div>
                            <div class="desc-text">Type Utterances and press enter to Add</div>
                        </label>
                    </div> 
                    <div class="add-rule-block">
                        <div class="label-text">Utterances</div>
                        <input type="text" (keydown.enter)="onEnter()" [(ngModel)]="customUtterance" placeholder="Utterances" class="input-text">
                    </div> 
                </div>
            </div>
        </div>
        <div class="found-details-info d-none">
            <div class="seach-block">
                <div class="kr-sg-input-text">
                    <input type="text" placeholder="Search" class="input-text">
                    <i class="icon-coaching--search"></i>
                </div>
            </div>
            <div class="found-body-utterances">
                <perfect-scrollbar>
                    <div class="found-text-block">
                        <div class="found-ai-count">
                            <i class="icon-coaching--ai"></i>
                            <span>Found 146</span>
                        </div>
                        <div class="found-desc">Similar utterances with the same meaning</div>
                   </div>
                    <div class="found-items-scroll">
                        <div class="select-all">
                            <div class="kr-sg-checkbox">
                                <input id="one" class="checkbox-custom" type="checkbox">
                                <label for="one" class="checkbox-custom-label">SELECT ALL</label>
                            </div>                            
                        </div>
                        <ng-container>
                            <div class="item-data-found">
                                <div class="kr-sg-checkbox">
                                    <input id="one" class="checkbox-custom" type="checkbox">
                                    <label for="one" class="checkbox-custom-label">I canâ€™t afford this</label>
                                </div>                            
                            </div>
                        </ng-container>
                    </div>
                    <div class="ai-working-loader">
                        <div class="loader-round"></div>
                    </div>
                </perfect-scrollbar>
            </div>
        </div>
    </div>
    <div class="footer-wraper">
        <button class="kr-sg-button-secondary btn_lg" (click)="closeSlider()">Cancel</button>
        <button class="kr-sg-button-primary btn_lg" (click)="save()">Add Selected</button>
    </div>
</div>
