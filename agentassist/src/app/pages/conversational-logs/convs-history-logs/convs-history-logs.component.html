
<div class="conv-hstory-wrapper-info">
    <div class="header-data-sec">
        <div class="title-sec">
            <div class="title">Customer ID</div>
            <!-- <div class="collpase-btn">
                <i class="icon-sa-info"></i>
            </div> -->
        </div>
        <div class="close_modal" (click)="close()">
            <i class="icon-sa-close"></i>
        </div>
    </div>
    <!-- <div class="viewing-info">
        <div class="view-title">
            <i class="icon-sa-round-check"></i>
            <span>Viewing:</span>
        </div>
        <div class="kr-sg-dropdowns" ngbDropdown [placement]="'bottom-right'">
            <div class="dropdown dropdown-open">
              <button class="dropdown-toggle dropdown-input" ngbDropdownToggle>
                <span>{{selectedElement}}</span>
              </button>
              <ul class="dropdown-menu content-menu" ngbDropdownMenu>
                <div class="list-name" ngbDropdownItem [ngClass]='selectedElement == ele.name ? "selected-list-item":"" ' *ngFor='let ele of dropDownOptions' (click)="selectedDropDown(ele)">
                    <div class="title-list">{{ele.name}}</div>
                    <div class="desc-text-title">{{ele.description}}</div>
                    <div class="selected-check">
                        <i class="icon-sa-check-gray"></i>
                    </div>
                </div>
              </ul>
            </div>
        </div>
    </div> -->

    <perfect-scrollbar (psYReachEnd)="onReachEnd($event)">
        <div class="scroll-data">
            <ng-container *ngFor="let data of chatHistData">
                <ng-container *ngIf="data.interruption">
                    <div class="aget-joined">
                        Agent joined the conversation
                    </div>
                </ng-container>
                <ng-container *ngIf="data?.msgType === 'USER'">
                    <div class="customer-info-wrapper-template">
                        <div class="img-icon-title">
                            <div class="img-block">
                                <img src="assets/icons/user-gray.svg">
                            </div>
                            <div class="time-name">Customer <span>{{data.createdOn | date:'h:mm a'}}</span></div>
                        </div>
                        <div class="cust-msg-template">
                            <div class="title-cust-msg">{{data.components[0]?.data?.text}}</div>
                            <!-- <div class="title-cust-msg m-t-8">
                                <i class="icon-sa-warning m-r-4 f-s-12"></i>Entity ‘digits’ not found
                            </div> -->
                        </div>
                    </div>
                </ng-container>
                <ng-container *ngIf="data?.msgType === 'AGENT'">
                <div class="agent-info-wrapper-template">
                    <div class="img-icon-title">
                        <div class="time-name">Agent <span>{{data.createdOn | date:'h:mm a'}}</span></div>
                        <div class="img-block">
                            <img src="assets/icons/user-gray.svg">
                        </div>
                    </div>
                    <div class="agent-msg-template">
                        <div class="title-agent-msg">{{data.components[0]?.data?.text}}</div>
                        <!-- <div class="copied-via-agent-assist" data-toggle="collapse" data-target="#agent-selected">
                            <img src="assets/images/conv-logs/agent-assist.svg">
                            <span class="text-title">Copied via AgentAssist</span>
                            <i class="icon-sa-arrow-down"></i>
                        </div>
                        <div class="thankyou-agent-selected collapse" id="agent-selected">
                            <div class="title">Thank you for your patience. How can I help you today?</div>
                            <div class="agent-selected-tag">
                                <i class="icon-sa-grid"></i>
                                <span>Agent Selected</span>
                            </div>
                        </div>
                        <div class="info-text-border">Thank you for your patience. How can I help you today?</div> -->
                    </div>
                </div>
            </ng-container>
            </ng-container>
            <ng-container *ngIf="chatHistData.length == 0">
                <div style="display: flex; justify-content: center; align-items: center;">
                    No data
                </div>
            </ng-container>
            
            <!-- <div class="joined-info-social">
                <div class="title-social-text">Mark Jones via WhatsApp</div>
                <div class="time-text">Today, 2:28pm</div>
            </div>

            <div class="agent-info-wrapper-template">
                <div class="img-icon-title">
                    <div class="time-name"><span>2:32 PM</span> • Charlie (Agent)</div>
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>                   
                </div>
                <div class="agent-msg-template">
                    <div class="title-agent-msg">Thank you for your patiences Mark. I’m Charlie. I see that your having some issues with making a trade. How can I help you today?</div>
                    <div class="copied-via-agent-assist" data-toggle="collapse" data-target="#agent-selected">
                        <img src="assets/images/conv-logs/agent-assist.svg">
                        <span class="text-title">Copied via AgentAssist</span>
                        <i class="icon-sa-arrow-down"></i>
                    </div>
                    <div class="thankyou-agent-selected collapse" id="agent-selected">
                        <div class="title">Thank you for your patience. How can I help you today?</div>
                        <div class="agent-selected-tag">
                            <i class="icon-sa-grid"></i>
                            <span>Agent Selected</span>
                        </div>
                    </div>
                    <div class="info-text-border">Thank you for your patience. How can I help you today?</div>
                </div>
            </div>

            <div class="customer-info-wrapper-template">
                <div class="img-icon-title">
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>
                    <div class="time-name">Customer <span>2:32 PM</span></div>
                </div>
                <div class="cust-msg-template">
                    <div class="title-cust-msg">Hi Charlie, yes, everytime I try to make a trade it simply errors after a minute or so</div>
                </div>
            </div>

            <div class="agent-assist-info-wrapper-template">
                <div class="img-icon-title">
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>
                    <div class="time-name">AgentAssist • <span>2:32 PM</span></div>
                </div>
                <div class="agentassist-msg-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block">
                                <i class="icon-sa-grid"></i>
                            </div>
                            <div class="content-sec">
                                <div class="title">Check account Balance</div>
                                <div class="automation-text">Automation running</div>
                            </div>
                        </div>
                        <div class="copied-via-agent-assist" data-toggle="collapse" data-target="#auto-node">
                            <img src="assets/images/conv-logs/agent-assist.svg">
                            <span class="text-title">via AgentAssist</span>
                            <i class="icon-sa-arrow-down"></i>
                        </div>
                    </div>
                    <div class="conv-wrapper-info collapse" id="auto-node">
                        <div class="list-automation-details">
                            <div class="heading-title">
                                <div class="icon_block">
                                   <img src="assets/images/conv-logs/workflow.svg">
                                </div>
                                <div class="tetx-title">Conversation</div>
                            </div>
                            <div class="info-text-data">
                                <div class="title">Troubleshoot</div>
                            </div>
                            <div class="info-text-data">
                                <div class="title">Troubleshoot</div>
                                <div class="agent-selected-tag">
                                    <i class="icon-sa-grid"></i>
                                    <span>Agent Selected</span>
                                </div>
                            </div>
                        </div>
                        <div class="list-automation-details">
                            <div class="heading-title">
                                <div class="icon_block">
                                    <img src="assets/images/conv-logs/news.svg">
                                </div>
                                <div class="tetx-title">Articles(01)</div>
                            </div>
                            <div class="info-text-data-no-flex">
                                <div class="title">Common errors while executing a trade</div>
                                <div class="show-more-text-desc">Here is how to check your eligibility for refund : 1. Verify the status of order. <span>Show more</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="customer-info-wrapper-template">
                <div class="img-icon-title">
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>
                    <div class="time-name">Customer <span>2:32 PM</span></div>
                </div>
                <div class="cust-msg-template">
                    <div class="title-cust-msg">Umm, let me check</div>
                    <div class="title-cust-msg m-t-8">
                        <i class="icon-sa-warning m-r-4 f-s-12"></i>Entity ‘digits’ not found
                    </div>
                </div>
            </div>
            <div class="customer-info-wrapper-template">
                <div class="img-icon-title">
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>
                    <div class="time-name">Customer <span>2:32 PM</span></div>
                </div>
                <div class="cust-msg-template">
                    <div class="title-cust-msg">Can’t quite find it</div>
                    <div class="title-cust-msg m-t-8">
                        <i class="icon-sa-warning m-r-4 f-s-12"></i>Entity ‘digits’ not found
                    </div>
                </div>
            </div>
            <div class="customer-info-wrapper-template">
                <div class="img-icon-title">
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>
                    <div class="time-name">Customer <span>2:32 PM</span></div>
                </div>
                <div class="cust-msg-template">
                    <div class="title-cust-msg">Got it. It’s 365.</div>
                    <div class="info-text-input">
                        <div class="left-title">Digits: <span>365</span></div>
                        <div class="right-title">Autofilled</div>
                    </div>
                    <div class="title-cust-msg">Entity captured successfully</div>
                </div>
            </div>

            <div class="agent-assist-info-wrapper-template pl-0">
                <div class="agentassist-msg-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block terminated">
                                <span></span>
                            </div>
                            <div class="content-sec">
                                <div class="title">Check account Balance</div>
                                <div class="automation-text">Automation running</div>
                            </div>
                        </div>
                        <div class="text-title-right">Agent terminated</div>
                    </div>
                </div>
            </div>
            
            <div class="agent-assist-info-wrapper-template pl-0">
                <div class="agentassist-msg-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block agent-assist-icon">
                                <i class="icon-sa-grid"></i>
                            </div>
                            <div class="content-sec">
                                <div class="title">Unused Suggestions (4)</div>
                            </div>
                        </div>
                        <div class="copied-via-agent-assist" data-toggle="collapse" data-target="#view-sugg">
                            <span class="text-title">View suggestions</span>
                        </div>
                    </div>
                    <div class="conv-wrapper-info collapse" id="view-sugg">
                        <div class="list-automation-details">
                            <div class="heading-title">
                                <div class="icon_block">
                                   <img src="assets/images/conv-logs/workflow.svg">
                                </div>
                                <div class="tetx-title">Conversation</div>
                            </div>
                            <div class="info-text-data">
                                <div class="title">Troubleshoot</div>
                            </div>
                            <div class="info-text-data">
                                <div class="title">Troubleshoot</div>
                                <div class="agent-selected-tag">
                                    <i class="icon-sa-grid"></i>
                                    <span>Agent Selected</span>
                                </div>
                            </div>
                        </div>
                        <div class="list-automation-details">
                            <div class="heading-title">
                                <div class="icon_block">
                                    <img src="assets/images/conv-logs/news.svg">
                                </div>
                                <div class="tetx-title">Articles(01)</div>
                            </div>
                            <div class="info-text-data-no-flex">
                                <div class="title">Common errors while executing a trade</div>
                                <div class="show-more-text-desc">Here is how to check your eligibility for refund : 1. Verify the status of order. <span>Show more</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agent-assist-info-wrapper-template pl-0">
                <div class="agentassist-msg-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block">
                                <i class="icon-sa-grid"></i>
                            </div>
                            <div class="content-sec">
                                <div class="title">Update Contact Details</div>
                                <div class="automation-text">Automation Running</div>
                            </div>
                        </div>
                        <div class="my-bot-details">
                            <i class="icon-sa-union"></i>
                            <span>Via MyBot</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agent-assist-info-wrapper-template pl-0">
                <div class="agentassist-msg-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block search-via-icon">
                                <i class="icon-sa-search"></i>
                            </div>
                            <div class="content-sec">
                                <div class="title">Agent searched for ‘Margin Trading’</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agent-assist-info-wrapper-template pl-0">
                <div class="agentassist-msg-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block search-via-icon">
                                <i class="icon-sa-grid"></i>
                            </div>
                            <div class="content-sec">
                                <div class="title">Margin Application</div>
                                <div class="automation-text">Automation Running</div>
                            </div>
                        </div>
                        <div class="search-via-text">
                            <i class="icon-sa-search"></i>
                            <span>Via Search</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agent-joined-conversation">
                <div class="line-bar"></div>
                <div class="details-info-agent-conv">
                    <div class="title">Agent joined the conversation</div>
                    <div class="time-info">Today at 2:32pm</div>
                    <div class="agent-details">
                        <div class="agent-img">
                            <img src="assets/images/conv-logs/agent-dummy.svg">
                        </div>
                        <div class="agent-content">
                            <div class="agent-name">Cameron Williamson</div>
                            <div class="agent-support">Level 2 Support</div>
                        </div>
                    </div>
                </div>
                <div class="line-bar"></div>
            </div>


            <div class="agent-info-wrapper-template agent-joined-conv-template">
                <div class="img-icon-title">
                    <div class="time-name">Cameron Williamson <span>2:32pm</span></div>
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>                   
                </div>
                <div class="agent-msg-template">
                    <div class="title-agent-msg">Thank you for your patiences Mark. I’m Charlie. I see that your having some issues with making a trade. How can I help you today?</div>
                    <div class="copied-via-agent-assist" data-toggle="collapse" data-target="#agent-selected1">
                        <img src="assets/images/conv-logs/agent-assist.svg">
                        <span class="text-title">Copied via AgentAssist</span>
                        <i class="icon-sa-arrow-down"></i>
                    </div>
                    <div class="thankyou-agent-selected collapse" id="agent-selected1">
                        <div class="title">Thank you for your patience. How can I help you today?</div>
                        <div class="agent-selected-tag">
                            <i class="icon-sa-grid"></i>
                            <span>Agent Selected</span>
                        </div>
                    </div>
                    <div class="info-text-border">Thank you for your patience. How can I help you today?</div>
                </div>
            </div>

            <div class="agent-info-wrapper-template agent-joined-conv-template">
                <div class="img-icon-title">
                    <div class="time-name">Cameron Williamson <span>2:32pm</span></div>
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>                   
                </div>
                <div class="agent-msg-template">
                    <div class="title-agent-msg">What is the margin amount you would like to apply for?</div>
                    <div class="sent-info">
                        <img src="assets/images/conv-logs/agent-assist.svg">
                        <span>Sent from AgentAssist</span>
                    </div>
                </div>
            </div>

            <div class="agent-info-wrapper-template agent-joined-conv-template">
                <div class="img-icon-title">
                    <div class="time-name">Cameron Williamson <span>2:32pm</span></div>
                    <div class="img-block">
                        <img src="assets/images/conv-logs/agent-dummy.svg">
                    </div>                   
                </div>
                <div class="agent-msg-template">
                    <div class="title-agent-msg">Confirming that you wish to have your margin set to 50000?</div>
                    <div class="yes-no-btns">
                        <div class="btnlink">
                            <i class="icon-sa-check-gray"></i>
                            <span>Yes</span>
                        </div>
                        <div class="btnlink">
                            <i class="icon-sa-close"></i>
                            <span>No</span>
                        </div>
                    </div>
                    <div class="sent-info">
                        <img src="assets/images/conv-logs/agent-assist.svg">
                        <span>Sent from AgentAssist</span>
                    </div>
                </div>
            </div>


            <div class="agent-assist-info-wrapper-template pl-0">
                <div class="agentassist-msg-template feedback-template">
                    <div class="message-node-info">
                        <div class="left-sec">
                            <div class="icon_block">
                                <i class="icon-sa-grid"></i>
                            </div>
                            <div class="content-sec">
                                <div class="title">Feedback for AgentAssist</div>
                                <div class="feedback-desc">“Not user friendly”, Irrelevant Suggestion, <span data-toggle="collapse" data-target="#feedback">+ 2 others <i class="icon-sa-arrow-down"></i></span></div>
                            </div>
                        </div>
                        <div class="thumb-info">
                            <div class="thumb-positive">
                                <i class="icon-sa-info"></i>
                            </div>
                            <div class="thumb-negtive active-thumb" data-toggle="collapse" data-target="#feedback">
                                <i class="icon-sa-info"></i>
                            </div>
                            <div class="icon_arrow">
                                <i class="icon-sa-arrow-down"></i>
                            </div>
                        </div>
                    </div>
                    <div class="feedback-data-list collapse" id="feedback">
                        <div class="feedback-item-list">
                            <div class="item-name">Wrong suggestions</div>
                            <div class="item-name">Incorrect intent</div>
                            <div class="item-name selected-feedback">Sequence</div>
                            <div class="item-name">Incorrect intent</div>
                            <div class="item-name">Accidental click</div>
                            <div class="item-name">Other</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="joined-info-social">
                <div class="title-social-text">Mark Jones via WhatsApp</div>
                <div class="time-text">Today, 2:28pm</div>
            </div>

            <div class="my-bot-data-details-template">
                <div class="img-icon-title">
                    <img src="assets/images/conv-logs/round-elipse.svg">
                </div>
                <div class="bot-msg-template">
                    <div class="title-msg">Agentassist • 3:10 PM</div>
                    <div class="desc-text">Can I have the last three digitis of your account number please?</div>
                    <div class="info-text-input">
                        <div class="left-title">Digits: <span>365</span></div>
                        <div class="right-title">Agent Entered <i class="icon-sa-common-properties"></i></div>
                    </div>
                    <div class="info-text-entity">
                        <div class="left-title">Entity captured successfully</div>
                        <div class="right-title">2:36 PM</div>
                    </div>
                </div>
            </div>

            <div class="my-bot-data-details-template">
                <div class="img-icon-title">
                    <img src="assets/images/conv-logs/round-elipse.svg">
                </div>
                <div class="bot-msg-template width-auto">
                    <div class="title-msg">Agentassist • 3:10 PM</div>
                    <div class="desc-text">Verified Successfully</div>
                </div>
            </div>

            <div class="my-bot-data-details-template">
                <div class="img-icon-title">
                    <img src="assets/images/conv-logs/round-elipse.svg">
                </div>
                <div class="bot-msg-template">
                    <div class="title-msg">Agentassist • 3:10 PM</div>
                    <div class="desc-text">What would you like to update?</div>
                    <ul class="list-details-ul">
                        <li>1 for Email-ID</li>
                        <li>2 for Contact Number</li>
                    </ul>
                    <div class="info-text-input">
                        <div class="left-title">Digits: <span>365</span></div>
                        <div class="right-title">Agent Entered <i class="icon-sa-common-properties"></i></div>
                    </div>
                    <div class="info-text-entity">
                        <div class="left-title">Entity captured successfully</div>
                        <div class="right-title">2:36 PM</div>
                    </div>
                </div>
            </div>

            <div class="my-bot-data-details-template">
                <div class="img-icon-title">
                    <img src="assets/images/conv-logs/round-elipse.svg">
                </div>
                <div class="bot-msg-template">
                    <div class="title-msg">Agentassist • 3:10 PM</div>
                    <div class="desc-text">What’s the new Email-ID</div>
                    <div class="info-text-input">
                        <div class="left-title">Digits: <span>365</span></div>
                        <div class="right-title">Agent Entered <i class="icon-sa-common-properties"></i></div>
                    </div>
                    <div class="info-text-entity">
                        <div class="left-title">Entity captured successfully</div>
                        <div class="right-title">2:36 PM</div>
                    </div>
                </div>
            </div>

            <div class="my-bot-data-details-template">
                <div class="img-icon-title">
                    <img src="assets/images/conv-logs/round-elipse.svg">
                </div>
                <div class="bot-msg-template width-auto">
                    <div class="title-msg">Agentassist • 3:10 PM</div>
                    <div class="desc-text">Email ID updated successfully</div>
                </div>
            </div> -->

        </div>
    </perfect-scrollbar>
</div>
