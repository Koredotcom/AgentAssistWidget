<div class="automation-override-wrapper">
    <ng-container *ngIf="viewType == VIEWTYPELIST.PARTIAL_VIEW">
        <div class="table-agent-feedback m_t_12">
            <div class="table-header row">
                <div class="title col-4">Automation NAME</div>
                <div class="title col-4">RESPONSES <i class="icon-ast_sortupdown ml-2"></i></div>
                <div class="title col-4 text-right">LIKE/DISLIKE <i class="icon-ast_sortupdown ml-2"></i></div>
            </div>
            <ng-container>
                <div class="table-body-feedback training-table-data row" *ngFor="let automation of automationOverrideTableData">
                    <div class="col-4 automation-name">
                        <!-- triggers="mouseenter:mouseleave" -->
                        <span triggers="mouseenter:mouseleave" [autoClose]="'inside'" popoverClass="automation-name-entitles" [ngbPopover]="devendar" placement="right">{{automation.intentName}}</span>
                    </div>
                    <div class="title col-4">
                        <span>{{automationIntentNamevsEntityList[automation.intentName] | automationIntentvsEntityString}}</span>
                        <span class="plus-more-data" triggers="mouseenter:mouseleave" [autoClose]="'inside'" popoverClass="automation-name-entitles" [ngbPopover]="devendar" placement="right">+{{automation.entityOtherCount}} others</span>
                    </div>
                    <div class="col-4 count-entity text-right">{{automation.totalOverides}}</div>
                    <ng-template #devendar>
                        <perfect-scrollbar class="scroll-entities">
                            <div class="template-popover-automation-entities">
                                <div class="heading-title">Entities</div>
                                <div class="row-info" *ngFor="let obj of automationIntentNamevsEntityList[automation.intentName]">
                                    <div class="title-left">{{obj.entityName}}</div>
                                    <div class="title-right">{{obj.override}}</div>
                                </div>
                            </div>
                        </perfect-scrollbar>
                    </ng-template>
                </div>

            </ng-container>
        </div>
       
    </ng-container>
    <ng-container *ngIf="viewType == VIEWTYPELIST.EXHAUSTIVE_VIEW">
        <div class="automation-override-report-data">
            <div class="text_info">
                <span>Override rate</span>
                <i class="icon-sa-help"></i>
            </div>
            <div class="count-number">{{automationOverrideReportData.overrideRate}}%</div>
            <div id="accordion">
                <div class="card_accordion" *ngFor = "let automation of automationOverrideTableData; let i = index">
                  <div class="card_header">
                    <div class="card-data-header row collapsed" data-toggle="collapse" [attr.href]="'#automationoverride' + i">
                        <i class="icon-sa-arrow-down"></i>
                        <div class="title col-4">{{automation.intentName}}</div>
                        <div class="title entity-title col-4">{{automationIntentNamevsEntityList[automation.intentName].length}} entities</div>
                        <div class="title override-count col-4 text-right">{{automation.totalOverides}} overrides</div>
                    </div>
                  </div>
                  <div [attr.id]="'automationoverride' + i"  class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <div class="row-data-info row" *ngFor="let obj of automationIntentNamevsEntityList[automation.intentName]">
                            <div class="title col-6">{{obj.entityName}}</div>
                            <div class="title col-6 text-right">{{obj.override}}</div>
                        </div>
                        
                    </div>
                  </div>
                </div>
            </div>
        </div>
    </ng-container>
</div>

