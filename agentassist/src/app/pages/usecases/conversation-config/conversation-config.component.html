    <div class="slider-sec-data">
    <form>
        <div class="header-sec row m-0">
            <div class="lef-sec col-8 p-0">
                <img *ngIf="inputData.usecaseType == 'faq'" src="assets/images/usecases/new_faq.png" alt="new_faq">
                <img *ngIf="inputData.usecaseType == 'dialog'" src="assets/images/usecases/new_conv.png" alt="new_conv">
                <span class="main-title">{{inputData.usecaseName}}</span>
            </div>
            <div class="col-3 p-0 text-right">                
                <label [hidden]="hideToogleSlider" class="kr-sg-toggle">                                       
                    <input type="checkbox" [checked]="inputData.isEnabled" (click)="true" #confToggle>
                    <div class="slider"><span class="enabled" *ngIf="confToggle.checked">{{ "USECASES.ENABLED" | translate}}</span><span *ngIf="!confToggle.checked" class="disabled">{{"USECASES.DISABLED" | translate}}</span></div>
                </label>
            </div>
            
            <div class="close-link col-1 p-0" (click)="close()"><img src="assets/images/close.svg"></div>
        </div>
        <perfect-scrollbar class="scroll-content">            
            <div class="body-sec-data">
                <div class="info-usecases" [hidden]="hideInfo" *ngIf="!confToggle.checked"> <!--  -->
                    <div class="col-11 info-text">
                        <img src="assets/icons/use-case/info-usecase.svg">
                        <span>{{"USECASES.DISABLED_DESC" | translate}}</span> 
                    </div>
                    <div class="col-1 close-info" (click)="hideInfo = true">
                        <img src="assets/icons/use-case/close-info.svg">
                    </div>
                </div>
                <ul class="nav nav-tabs" role="tablist">
                    <li><div class="tab-name active" data-toggle="tab" href="#call"><img src="assets/icons/call-inactive.svg" class="call-inactive"><img src="assets/icons/call-active.svg" class="call-active">{{'USECASES.CALL_EXPERIENCE' | translate}}</div></li>
                    <li><div class="tab-name" data-toggle="tab" href="#chat"><img src="assets/icons/comment-active.svg" class="chat-active"><img src="assets/icons/comment-inactive.svg" class="chat-inactive">{{'USECASES.CHAT_EXPERIENCE' | translate}}</div></li>               
                </ul>            
                <div class="tab-content">
                    <div id="call" class="tab-pane fade show active">
                        <div class="main-title">{{'USECASES.CALL_EXPERIENCE' | translate}}</div>
                        <div class="config-cards-sec">
                            <div class="cards-data" [class.selected]="callExp.type === 'automatedDialog'" (click)="onChangeCallExpType('automatedDialog')">
                                <div class="selected-title" *ngIf="callExp.type === 'automatedDialog'">{{'USECASES.SELECTED' | translate}}</div>
                                <div class="title-sec">
                                    <div class="img_block"><img src="assets/icons/conversations/automated-dialog-call.svg"></div>
                                    <div class="title">{{'USECASES.AUTOMATED_DIALOG' | translate}}</div>
                                </div>
                                <div class="desc-info">{{'USECASES.AD_DESC' | translate}}</div>
                            </div>
                            <div class="cards-data" [class.selected]="callExp.type === 'agentTransfer'" (click)="onChangeCallExpType('agentTransfer')">
                                <div class="selected-title" *ngIf="callExp.type === 'agentTransfer'">{{'USECASES.SELECTED' | translate}}</div>
                                <div class="title-sec">
                                    <div class="img_block"><img src="assets/icons/conversations/transfer-agent-call.svg"></div>
                                    <div class="title">{{'USECASES.TRANSFER_TO_AGENT' | translate}}</div>
                                </div>
                                <div class="desc-info">{{'USECASES.TA_DESC' | translate}}</div>
                            </div>
                            <div class="cards-data" [class.selected]="callExp.type === 'deflection'" (click)="onChangeCallExpType('deflection')">
                                <div class="selected-title" *ngIf="callExp.type === 'deflection'">{{'USECASES.SELECTED' | translate}}</div>
                                <div class="title-sec">
                                    <div class="img_block"><img src="assets/icons/conversations/delecttochat.svg"></div>
                                    <div class="title">{{'USECASES.DEFLECT_TO_CHAT' | translate}}</div>
                                </div>
                                <div class="desc-info">{{'USECASES.DC_DESC' | translate}}</div>
                            </div>
                        </div>
                        <div class="info-title" *ngIf="callExp.type === 'automatedDialog'">{{'USECASES.AD_INFO' | translate}}</div>
                        <div class="info-title" *ngIf="callExp.type === 'agentTransfer'">{{'USECASES.TA_INFO' | translate}}</div>
                        <div class="info-title" *ngIf="callExp.type === 'deflection'">{{'USECASES.DC_INFO' | translate}}</div>
                        <div class="ext-link" (click)="launchPlatform()" *ngIf="callExp.type === 'automatedDialog'"><img src="assets/icons/ext-link.svg">{{'USECASES.EDIT_IN_BOT_PLATFORM' | translate}}</div>

                        <ng-container  *ngIf="(authService.isAgentDesktopEnabled$ | async)">

                        
                            <div *ngIf="callExp.type === 'automatedDialog' && skillsLoaded">
                                <app-skills-dd [skillsList]="allSkillData" [addedSk]="callExp.skills" #callSkills></app-skills-dd>
                            </div>

                            <ng-container *ngIf="callExp.type === 'agentTransfer' && skillsLoaded"> 
                                <app-skills-dd [skillsList]="allSkillData" [addedSk]="callExp.skills" #callSkills></app-skills-dd>
                            </ng-container>
                        </ng-container>

                        <div *ngIf="callExp.type === 'agentTransfer'">
                            <div class="kr-sg-dropdowns mb-2 mt-4">
                                <div class="label-text labeltext mb-2">{{'USECASES.PRE_TRANSFER_MESSAGE' | translate}}</div>
                                <div class="dropdown dropdown-open">
                                    <button class="dropdown-toggle dropdown-input" data-toggle="dropdown">{{(callExp.preTransferMsgType === 'custom' ? 'USECASES.CUSTOM_MESSAGE' : 'USECASES.DEFAULT_MESSAGE') | translate}}</button>                                            
                                    <ul class="dropdown-menu content-menu">                                                                          
                                    <li (click)="callExp.preTransferMsgType = 'default'"><a>{{'USECASES.DEFAULT_MESSAGE' | translate}}</a></li>
                                    <li (click)="onClickCustomMsg('callExp', 'preTransferMsgType')"><a>{{'USECASES.CUSTOM_MESSAGE' | translate}}</a></li>
                                    </ul>
                                </div>                       
                            </div>
                            <div class="response-view" *ngIf="callExp.preTransferMsgViewType === 'preview' || callExp.preTransferMsgType === 'default'">
                                <div class="res-tille">{{(callExp.preTransferMsgType === 'default'? 'USECASES.DEFAULT' : 'USECASES.MESSAGE') | translate}}</div>                       
                                <div class="dropdown kr-sg-overflow-menu" *ngIf="isEditable">
                                    <div class="dropdown-toggle" [class.d-none]="callExp.preTransferMsgType === 'default'" id="menu1" data-toggle="dropdown"><img class="action_icon" src="assets/icons/overflow-black.svg"></div>
                                    <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                                        <li (click)="callExp.preTransferMsgViewType = 'edit'"><a><img src="assets/icons/edit-black.svg">{{'USECASES.EDIT' | translate}}</a></li>
                                        <li class="d-none"><a><img src="assets/icons/delete-black.svg">{{'BUTTONS.DELETE' | translate}}</a></li>
                                    </ul>
                                </div>
                                <div class="response-info">{{callExp.preTransferMsgType === 'default' ? defaultMessages.callPreTransferMsg : callExp.preTransferMsgs[0]}}</div>
                                <div class="more-link d-none">{{'USECASES.MORE' | translate}}</div>
                            </div>                           
                            <div class="edit-view" *ngIf="callExp.preTransferMsgViewType === 'edit' && callExp.preTransferMsgType === 'custom'">                                
                                <div class="kr-sg-input-text-area">  
                                    <div class="edit-response-title-sec">
                                        <div class="title d-none">{{'MSG_ONE' | translate}}</div>
                                        <div class="btn-sec">
                                            <button class="kr-sg-buttonicon-secondary-two btn_md ml-2" [disabled]="!(callExp.preTransferMsgs[0] || '').trim()" (click)="callExp.preTransferMsgViewType = 'preview'"><img src="assets/icons/check-blue.svg">{{'USECASES.DONE' | translate}}</button>
                                            <button class="kr-sg-buttonicon-danger btn_md ml-2 d-none"><img src="assets/icons/close-red.svg">{{'USECASES.CLOSE' | translate}}</button>
                                        </div>
                                    </div>                                                         
                                    <textarea [placeholder]="'USECASES.AT_PLACEHOLDER' | translate" class="input-text" [(ngModel)]="callExp.preTransferMsgs[0]" name="preTransferMsg"></textarea>                                
                                </div>
                            </div>
                            <div class="footer-btns d-none">
                                <div class="add-btn"><img src="assets/images/plus.svg">{{'USECASES.ADD_ANOTHER' | translate}}</div>
                            </div>
                        </div>
                        
                        <div *ngIf="callExp.type !== 'automatedDialog'">
                            <ng-container *ngIf="callExp.type === 'agentTransfer'">
                                <div class="toggle-switch d-flex align-items-center mt-4">
                                    <div class="text-label">{{'USECASES.OFFER_CHAT_DEFLECTION' | translate}}</div>
                                    <label class="kr-sg-toggle large">
                                        <input type="checkbox" (change)="onChangeOfferDeflection(callExp.type)" [checked]="callExp.offerDeflection">
                                        <div class="slider"></div>
                                    </label>
                                </div>
                                <div class="p-text">{{'USECASES.CD_DESC' | translate}}</div>
                            </ng-container>
                            
                            <ng-container *ngIf="callExp.type === 'deflection'">
                                <div class="label-text labeltext mb-3 mt-3">{{'USECASES.DEFLECTION_SETTINGS' | translate}}</div>
                                <div class="p-text">{{'USECASES.DS_DESC' | translate}}</div>
                            </ng-container>
                            
                            <div class="mt-3" *ngIf="callExp.offerDeflection || callExp.type === 'deflection'">
                                <div class="kr-sg-radiobutton">
                                    <input id="tca" name="chatPreTransferMsgType" class="radio-custom" type="radio" [(ngModel)]="callExp.chatTransferType" value="deflection">
                                    <label for="tca" class="radio-custom-label">{{'USECASES.CHAT_AUTOMATION' | translate}}</label>
                                </div> 
                                <div class="kr-sg-radiobutton">
                                    <input id="tla" name="chatPreTransferMsgType" class="radio-custom" type="radio" [(ngModel)]="callExp.chatTransferType" value="agentTransfer">
                                    <label for="tla" class="radio-custom-label">{{'USECASES.LIVE_CHAT_AGENT' | translate}}</label>
                                </div>
                                <div class="kr-sg-dropdowns mb-2 mt-2">
                                    <div class="dropdown dropdown-open">
                                        <button class="dropdown-toggle dropdown-input" data-toggle="dropdown">{{(callExp.chatPreTransferMsgType === 'custom' ? 'USECASES.CUSTOM_MESSAGE' : 'USECASES.DEFAULT_MESSAGE') | translate}}</button>                                            
                                        <ul class="dropdown-menu content-menu">                                                                          
                                        <li (click)="callExp.chatPreTransferMsgType = 'default'"><a>{{'USECASES.DEFAULT_MESSAGE' | translate}}</a></li>
                                        <li (click)="onClickCustomMsg('callExp', 'chatPreTransferMsgType')"><a>{{'USECASES.CUSTOM_MESSAGE' | translate}}</a></li>
                                        </ul>
                                    </div>                       
                                </div>
                                <div class="response-view" *ngIf="callExp.chatPreTransferMsgViewType === 'preview' || callExp.chatPreTransferMsgType === 'default'">
                                    <div class="res-tille">{{(callExp.chatPreTransferMsgType === 'default'? 'USECASES.DEFAULT' : 'USECASES.MESSAGE') | translate}}</div>                       
                                    <div class="dropdown kr-sg-overflow-menu" *ngIf="isEditable">
                                        <div class="dropdown-toggle" [class.d-none]="callExp.chatPreTransferMsgType === 'default'" id="menu1" data-toggle="dropdown"><img class="action_icon" src="assets/icons/overflow-black.svg"></div>
                                        <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                                            <li (click)="callExp.chatPreTransferMsgViewType = 'edit'"><a><img src="assets/icons/edit-black.svg">{{'USECASES.EDIT' | translate}}</a></li>
                                            <li class="d-none"><a><img src="assets/icons/delete-black.svg">{{'USECASES.DELETE' | translate}}</a></li>
                                        </ul>
                                    </div>
                                    <div class="response-info">{{callExp.chatPreTransferMsgType === 'default' ? callExp.chatTransferType === 'deflection' ? defaultMessages.chatAutomationOptMsg : defaultMessages.chatAgentOptMsg : callExp.chatPreTransferMsgs[0]}}</div>
                                    <div class="more-link d-none">{{'USECASES.MORE' | translate}}</div>
                                </div>                           
                                <div class="edit-view" *ngIf="callExp.chatPreTransferMsgViewType === 'edit' && callExp.chatPreTransferMsgType === 'custom'">                                
                                    <div class="kr-sg-input-text-area">  
                                        <div class="edit-response-title-sec">
                                            <div class="title d-none">{{'MSG_ONE' | translate}}</div>
                                            <div class="btn-sec">
                                                <button class="kr-sg-buttonicon-secondary-two btn_md ml-2" [disabled]="!(callExp.chatPreTransferMsgs[0] || '').trim()" (click)="callExp.chatPreTransferMsgViewType = 'preview'"><img src="assets/icons/check-blue.svg">{{'USECASES.DONE' | translate}}</button>
                                                <button class="kr-sg-buttonicon-danger btn_md ml-2 d-none"><img src="assets/icons/close-red.svg">{{'USECASES.CLOSE' | translate}}</button>
                                            </div>
                                        </div>                                                         
                                        <textarea [placeholder]="'USECASES.AD_TRANSFER_PLACEHOLDER' | translate" class="input-text" [(ngModel)]="callExp.chatPreTransferMsgs[0]" name="chatPreTransferMsg"></textarea>                                
                                    </div>
                                </div>  
                            </div>
                        </div>
                    </div>
                    <div id="chat" class="tab-pane fade">
                        <div class="main-title">{{'USECASES.CHAT_EXPERIENCE' | translate}}</div>
                        <div class="config-cards-sec chat-section">
                            <div class="cards-data" [class.selected]="chatExp.type === 'automatedDialog'" (click)="chatExp.type = 'automatedDialog';chatExp.isConfigured = true;">
                                <div class="selected-title" *ngIf="chatExp.type === 'automatedDialog'">{{'USECASES.SELECTED' | translate}}</div>
                                <div class="title-sec">
                                    <div class="img_block"><img src="assets/icons/conversations/automated-dialog-chat.svg"></div>
                                    <div class="title">{{'USECASES.AUTOMATED_DIALOG' | translate}}</div>
                                </div>
                                <div class="desc-info">{{'USECASES.AD_DESC' | translate}}</div>
                            </div>
                            <div class="cards-data" [class.selected]="chatExp.type === 'agentTransfer'" (click)="chatExp.type = 'agentTransfer';chatExp.isConfigured = true">
                                <div class="selected-title" *ngIf="chatExp.type === 'agentTransfer'">{{'USECASES.SELECTED' | translate}}</div>
                                <div class="title-sec">
                                    <div class="img_block"><img src="assets/icons/conversations/transfer-agent-chat.svg"></div>
                                    <div class="title">{{'USECASES.TRANSFER_TO_AGENT' | translate}}</div>
                                </div>
                                <div class="desc-info">{{'USECASES.TAC_DESC' | translate}}</div>
                            </div>                         
                        </div>
                        <div class="info-title" *ngIf="chatExp.type === 'automatedDialog'">{{'USECASES.AD_INFO' | translate}}</div>
                        <div class="info-title" *ngIf="chatExp.type === 'agentTransfer'">{{'USECASES.TA_INFO' | translate}}</div>

                        <div class="ext-link" (click)="launchPlatform()" *ngIf="chatExp.type === 'automatedDialog'"><img src="assets/icons/ext-link.svg">{{'USECASES.EDIT_IN_BOT_PLATFORM' | translate}}</div>


                        <ng-container *ngIf="chatExp.type === 'agentTransfer' && skillsLoaded"> 
                            <app-skills-dd [skillsList]="allSkillData" [addedSk]="chatExp.skills" #chatSkills></app-skills-dd>
                        </ng-container>

                        <ng-container *ngIf="chatExp.type === 'automatedDialog' && skillsLoaded"> 
                            <app-skills-dd [skillsList]="allSkillData" [addedSk]="chatExp.skills" #chatSkills></app-skills-dd>
                        </ng-container>

                        <div *ngIf="chatExp.type === 'automatedDialog'" class="">
                            <div class="include-agent d-flex align-items-center mt-4">
                                <div class="mr-3">{{"USECASES.INCLUDE_AGENT_ASSIST" | translate}}</div>
                                <label class="kr-sg-toggle">
                                    <input type="checkbox" [(ngModel)]="inputData.hasAgentAssistAccess" name="includeAgentAssist" checked>
                                    <div class="slider"></div>
                                </label>
                            </div>
                            <div class="info-text-enable">{{"USECASES.INCLUDE_AGENT_ASSIST_DESC" | translate}} </div>
                        </div>

                        <div *ngIf="chatExp.type === 'agentTransfer'">
                            <div class="kr-sg-dropdowns mb-2 mt-4">
                                <div class="label-text labeltext mb-2">{{'USECASES.PRE_TRANSFER_MESSAGE' | translate}}</div>
                                <div class="dropdown dropdown-open">
                                    <button class="dropdown-toggle dropdown-input" data-toggle="dropdown">{{(chatExp.preTransferMsgType === 'custom' ? 'USECASES.CUSTOM_MESSAGE' : 'USECASES.DEFAULT_MESSAGE') | translate}}</button>                                            
                                    <ul class="dropdown-menu content-menu">                                                                          
                                    <li (click)="chatExp.preTransferMsgType = 'default'"><a>{{'USECASES.DEFAULT_MESSAGE' | translate}}</a></li>
                                    <li (click)="onClickCustomMsg('chatExp', 'preTransferMsgType')"><a>{{'USECASES.CUSTOM_MESSAGE' | translate}}</a></li>
                                    </ul>
                                </div>                       
                            </div>
                            <div class="response-view" *ngIf="chatExp.preTransferMsgViewType === 'preview' || chatExp.preTransferMsgType === 'default'">
                                <div class="res-tille">{{(chatExp.preTransferMsgType === 'default'? 'USECASES.DEFAULT' : 'USECASES.MESSAGE') | translate}}</div>                       
                                <div class="dropdown kr-sg-overflow-menu" *ngIf="isEditable">
                                    <div class="dropdown-toggle" [class.d-none]="chatExp.preTransferMsgType === 'default'" id="menu1" data-toggle="dropdown"><img class="action_icon" src="assets/icons/overflow-black.svg"></div>
                                    <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                                        <li (click)="chatExp.preTransferMsgViewType = 'edit'"><a><img src="assets/icons/edit-black.svg">{{'USECASES.EDIT' | translate}}</a></li>
                                        <li class="d-none"><a><img src="assets/icons/delete-black.svg">{{'USECASES.DELETE' | translate}}</a></li>
                                    </ul>
                                </div>
                                <div class="response-info">{{chatExp.preTransferMsgType === 'default' ? defaultMessages.chatPreTransferMsg : chatExp.preTransferMsgs[0]}}</div>
                                <div class="more-link d-none">{{("USAGE_BILLING.MORE" | lowercase) | translate}}</div>
                            </div>                           
                            <div class="edit-view" *ngIf="chatExp.preTransferMsgViewType === 'edit' && chatExp.preTransferMsgType === 'custom'">                                
                                <div class="kr-sg-input-text-area">  
                                    <div class="edit-response-title-sec">
                                        <div class="title d-none">{{"MSG_ONE" | translate}}</div>
                                        <div class="btn-sec">
                                            <button class="kr-sg-buttonicon-secondary-two btn_md ml-2" [disabled]="!(chatExp.preTransferMsgs[0] || '').trim()" (click)="chatExp.preTransferMsgViewType = 'preview'"><img src="assets/icons/check-blue.svg">{{'USECASES.DONE' | translate}}</button>
                                            <button class="kr-sg-buttonicon-danger btn_md ml-2 d-none"><img src="assets/icons/close-red.svg">{{'USECASES.CLOSE' | translate}}</button>
                                        </div>
                                    </div>                                                         
                                    <textarea [placeholder]="'USECASES.CA_TRANSFER_PLACEHOLDER' | translate" class="input-text" [(ngModel)]="chatExp.preTransferMsgs[0]" name="preTransferMsg"></textarea>                                
                                </div>
                            </div>
                        </div>                 
                     </div>           
                </div>
            </div>
        </perfect-scrollbar> 
        <div class="footer-sec" *ngIf="isEditable">
            <button class="kr-sg-button-primary btn_lg mr-2" [disabled]="saveInProgress" (click)="save()">{{(saveInProgress ? 'BUTTONS.SAVING': 'BUTTONS.SAVE') | translate}}</button>        
            <button class="kr-sg-button-secondary btn_lg ml-1" (click)="close()">{{'BUTTONS.CANCEL' | translate}}</button>        
        </div>
    </form>
</div>