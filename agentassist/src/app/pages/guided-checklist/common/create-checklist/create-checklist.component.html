<div class="stage-creation-slider-data">
    <div class="tab-content-data">
        <div class="header-sec">
            <div class="title">{{"GUIDED_CHECKLIST.CREATE_CHECKLIST.SETTINGS" | translate}}</div>
            <div class="close-slider" (click)="close()">
                <i class="icon-sa-close"></i>
            </div>
        </div>
        <div class="tabs-info">
            <button class="tab-btn" [ngClass]="{'active-btn': tab === 'basic'}" (click)="tab = 'basic'; basic=true" title="General Settings">{{"GUIDED_CHECKLIST.CREATE_CHECKLIST.SETTINGS" | translate}}</button>
            <button class="tab-btn" [ngClass]="{'active-btn': tab === 'assignment'}" (click)="tab = 'assignment'; basic=true" title="Assignments">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ASSIGNMENTS' | translate}}</button>
            <button class="tab-btn" *ngIf="checkListType !== 'primary'" [ngClass]="{'active-btn': tab === 'trigger'}" (click)="tab = 'trigger'; loadtrigger= true; basic=false" title="Triggers">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TRIGGERS' | translate}}</button>
        </div>
        <div class="body-data" [formGroup]="checkListForm">
            <perfect-scrollbar>
                <div class="inner-content-data">
                    <div [ngClass]="{'d-none': tab !== 'basic'}" class="p-24">
                        <ng-container>
                            <div class="kr-sg-input-text m-b-12">
                                <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLAYBOOKNAME' | translate}}</div>
                                <input type="text" formControlName="name" maxlength="48" placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLAYBOOKNAME' | translate}}"
                                    class="input-text">
                                <div class="count-char">{{checkListForm.value?.name?.length}}/48</div>
                            </div>
                            <div class="kr-sg-input-text-area m-b-12">
                                <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.DESC' | translate}}</div>
                                <textarea formControlName="description" placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.DESC' | translate}}" maxlength="200"
                                    class="input-text"></textarea>
                                <div class="count-char">{{checkListForm.value?.description?.length}}/200</div>
                            </div>
                            <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TYPE' | translate}}</div>
                            <div class="kr-sg-dropdowns m-b-12" ngbDropdown placement="bottom">
                                <div class="dropdown dropdown-open">
                                    <button class="dropdown-toggle dropdown-input" ngbDropdownToggle [disabled]="createOrUpdate !== 'create'" [ngClass]="{'disabled': createOrUpdate !== 'create'}">{{checkListForm.value?.type | titlecase}}</button>
                                    <ul class="dropdown-menu content-menu header_in_development_drpdown p-0" ngbDropdownMenu>
                                        <!-- <ng-container *ngFor="let listType of checklistType;">
                                            <li ngbDropdownItem class="p-0" (click)="selectedChecklistType(listType)">
                                                <a>{{listType}}</a>
                                            </li>
                                        </ng-container> -->
                                        <li ngbDropdownItem class="p-0" (click)="selectedChecklistType('primary')">
                                            <a>{{'CHECKLIST.PRIMARY' | translate}}</a>
                                        </li>
                                        <li ngbDropdownItem class="p-0" (click)="selectedChecklistType('dynamic')">
                                            <a>{{'CHECKLIST.DYNAMIC' | translate}}</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- <div class="kr-sg-checkbox add-close-checbox m-b-16">
                                <input id="checkbox-4" class="checkbox-custom" type="checkbox">
                                <label for="checkbox-4" class="checkbox-custom-label">Add Close Stage <i class="icon-sa-info"></i></label>
                            </div>     -->
                            <div class="label-text m-b-5">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TAGS' | translate}}</div>
                            <mat-form-field class="example-chip-list m-b-15">
                                <mat-label>{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.ADD_TAGS' | translate}}</mat-label>
                                <mat-chip-list #chipList>
                                    <mat-chip *ngFor="let tag of checkListForm.value?.tags" [selectable]="true" [removable]="true" (removed)="remove(tag.name)">
                                        <span class="chip-name text-truncate mx-w-100" title="{{tag.name}}">{{tag.name}}</span>
                                        <span class="icon-sa-close" matChipRemove *ngIf="true"></span>
                                    </mat-chip>
                                    <input placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.ADD_TAGS' | translate}}" #tagInput [matChipInputFor]="chipList"
                                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="false"
                                        (matChipInputTokenEnd)="add($event)" [matAutocomplete]="auto" [formControl]="tagControl"
                                        #trigger="matAutocompleteTrigger">
                                </mat-chip-list>
                                <mat-autocomplete #auto="matAutocomplete">
                                    <div class="mat-checkboxs">
                                        <mat-option *ngFor="let tag of filteredTagsDisplay;let i = index" [title]="tag?.name"
                                            (click)="selectedOption(tag?.name, i);$event.stopPropagation();trigger.openPanel()">
                                            <input id="checkbox-{{i}}" type="checkbox"
                                                (click)="selectedOption(tag?.name, i);trigger.openPanel();$event.stopPropagation();" [value]="tag?.name"
                                                [checked]="tag.checked">
                                                <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                    <span>{{tag?.name}}</span>
                                                </div>                            
                                        </mat-option>
                                    </div>
                                </mat-autocomplete>
                            </mat-form-field>
                            <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.STEP_PROG' | translate}}</div>
                            <div class="kr-sg-dropdowns m-b-12" ngbDropdown>
                                <div class="dropdown dropdown-open">
                                    <button class="dropdown-toggle dropdown-input"
                                        ngbDropdownToggle>{{checkListForm.value?.order |
                                        titlecase}}</button>
                                    <ul class="dropdown-menu content-menu header_in_development_drpdown p-0"
                                        ngbDropdownMenu>
                                        <li ngbDropdownItem class="p-0" (click)="chekProgressionType('Sequential')">
                                            <a>{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.SEQUENTIAL' | translate}}</a>
                                        </li>
                                        <li ngbDropdownItem class="p-0" (click)="chekProgressionType('Random')">
                                            <a>{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.RANDOM' | translate}}</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="channels-tags">
                                <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CHANNELS' | translate}}</div>
                                <div class="channels-check">
                                    <div class="check-item" *ngFor="let item of channelList; let i = index">
                                        <input id="checkbox-{{i}}" type="checkbox" (click)="channelSelection($event,item)"
                                            [checked]="(checkListForm.value?.channels || [])?.indexOf(item) >= 0">
                                        <span for="checkbox-{{i}}">{{item}}</span>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div [ngClass]="{'d-none': tab !== 'assignment'}" class="p-24">
                        <div class="add-utterance-block">
                            <div class="utt-radio-block">
                                <div class="radio-block-content" [ngClass]="{'active-check': assignType === 'all'}">
                                    <div class="kr-sg-radiobutton">
                                        <input value="all" [(ngModel)]="assignType"
                                            [ngModelOptions]="{standalone: true}" (change)="changeAssigne()"
                                            id="radio-1a" name="radio" class="radio-custom" type="radio">
                                        <label for="radio-1a" class="radio-custom-label">
                                            <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TRIGGERS_ALL_INTERACTIONS' | translate}}</div>
                                            <div class="desc-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CHECKLIST_ALL_INTERACTIONS' | translate}}</div>
                                        </label>
                                    </div>
                                </div>
                                <div class="radio-block-content disabled" [ngClass]="{'active-check': assignType === 'a'}">
                                    <div class="kr-sg-radiobutton">
                                        <input [ngModelOptions]="{standalone: true}" value="a" [(ngModel)]="assignType"
                                            id="radio-1s" name="radio" class="radio-custom" type="radio">
                                        <label for="radio-1s" class="radio-custom-label">
                                            <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TRIGGERS_SELECTED_AGENT' | translate}}</div>
                                            <div class="desc-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CHECKLIST_SHOWS_ONLY_SELECTED_AGENTS' | translate}}</div>
                                        </label>
                                    </div>
                                    <div class="add-rule-block" *ngIf="false">
                                        <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ADD_RULES' | translate}}</div>
                                        <mat-form-field class="add-rules-chip-list">
                                            <mat-chip-list #chipList>
                                                <mat-chip *ngFor="let tag of []" [selectable]="true" [removable]="true"
                                                    (removed)="remove(tag)">
                                                    <span class="chip-name text-truncate mx-w-100"
                                                        title="{{tag?.name}}">{{tag?.name}}</span>
                                                    <span class="icon-sa-close" matChipRemove></span>
                                                </mat-chip>
                                                <input placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.SELECT_RULES' | translate}}" #tagInput [matChipInputFor]="chipList"
                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]="false" [matAutocomplete]="auto"
                                                    #trigger="matAutocompleteTrigger">
                                            </mat-chip-list>
                                            <mat-autocomplete #auto="matAutocomplete">
                                                <div class="content-scroll-ni">
                                                    <div class="search-block">
                                                        <div class="kr-sg-input-text">
                                                            <input type="text" placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.SEARCH' | translate}}" class="input-text"
                                                                name="search">
                                                            <i class="icon-coaching--search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="tags-data" *ngIf="true">
                                                        <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TAGS' | translate}}</div>
                                                        <div class="select-all">'{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.SELECTALL' | translate}}'</div>
                                                    </div>
                                                    <ng-container *ngFor="let tag of [];let i = index">
                                                        <ng-container>
                                                            <mat-option class="mat-option-ni">
                                                                <input id="checkbox-{{i}}" type="checkbox"
                                                                    (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();"
                                                                    [value]="tag.name" [checked]="tag?.checked">
                                                                <div class="label-check text-truncate"
                                                                    for="checkbox-{{i}}">
                                                                    <span>{{tag?.name}}</span>
                                                                    <div class="desc-text">{{tag?.value?.length}} {{'GUIDED_CHECKLIST.CREATE_CHECKLIST.RULES' | translate}}
                                                                    </div>
                                                                </div>
                                                            </mat-option>
                                                        </ng-container>
                                                    </ng-container>
                                                    <div class="tags-data" *ngIf="true">
                                                        <div class="title">{{('GUIDED_CHECKLIST.CREATE_CHECKLIST.RULES' | translate) | titlecase}}</div>
                                                        <div class="select-all">'{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.SELECTALL' | translate}}'</div>
                                                    </div>
                                                    <ng-container *ngFor="let tag of [];let i = index">
                                                        <mat-option class="mat-option-ni"
                                                            (click)="selectedOption(tag, i);$event.stopPropagation();trigger.openPanel()">

                                                            <input id="checkbox-{{i}}" type="checkbox"
                                                                (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();"
                                                                [value]="tag.name" [checked]="tag.checked">
                                                            <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                                <span>{{tag?.name}}</span>
                                                            </div>
                                                        </mat-option>
                                                    </ng-container>

                                                    <mat-option class="d-none">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.AVOID_CLOSING_MATAAUTOCOMPLETE_ONSEARCH' | translate}}

                                                    </mat-option>
                                                </div>
                                                <div class="footer-add-cler-ni">
                                                    <button class="kr-sg-button-secondary-two btn_lg"
                                                        (click)="clearChipData()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CLEAR' | translate}}</button>
                                                    <button class="kr-sg-button-primary btn_lg"
                                                        (click)="addRuleData()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ADD' | translate}}</button>
                                                </div>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                    </div>
                                </div>
                                <div class="radio-block-content disabled" [ngClass]="{'active-check': assignType === 'q'}">
                                    <div class="kr-sg-radiobutton">
                                        <input [ngModelOptions]="{standalone: true}" value="q" [(ngModel)]="assignType"
                                            id="radio-1sq" name="radio" class="radio-custom" type="radio">
                                        <label for="radio-1sq" class="radio-custom-label">
                                            <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TRIGGER_SLECTED_QUEUES' | translate}}</div>
                                            <div class="desc-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CHECKLIST_SHOWS_ONLY_FOR_CERTAIN_QUEUES' | translate}}</div>
                                        </label>
                                    </div>
                                    <div class="add-rule-block" *ngIf="false">
                                        <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ADD_RULES' | translate}}</div>
                                        <mat-form-field class="add-rules-chip-list">
                                            <mat-chip-list #chipList>
                                                <mat-chip *ngFor="let tag of tags" [selectable]="true"
                                                    [removable]="true" (removed)="remove(tag)">
                                                    <span class="chip-name text-truncate mx-w-100"
                                                        title="{{tag.name}}">{{tag.name}}</span>
                                                    <span class="icon-sa-close" matChipRemove *ngIf="true"></span>
                                                </mat-chip>
                                                <input placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.SELECT_RULES' | translate}}" #tagInput [matChipInputFor]="chipList"
                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]="false" [matAutocomplete]="auto"
                                                    #trigger="matAutocompleteTrigger">
                                            </mat-chip-list>
                                            <mat-autocomplete #auto="matAutocomplete">
                                                <div class="content-scroll-ni">
                                                    <div class="search-block">
                                                        <div class="kr-sg-input-text">
                                                            <input type="text" placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.SEARCH' | translate}}" class="input-text"
                                                                [formControl]="tagControl" name="search">
                                                            <i class="icon-coaching--search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="tags-data" *ngIf="checkTagPresent() ? true : false">
                                                        <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TAGS' | translate}}</div>
                                                        <div class="select-all"
                                                            (click)="selectAllUtteranceType(coachingCnst.TAG, selectAllTagFlag);selectAllTagFlag = !selectAllTagFlag">
                                                            {{ selectAllTagFlag ? ('GUIDED_CHECKLIST.CREATE_CHECKLIST.UNSELECT_ALL' | translate) : ('GUIDED_CHECKLIST.CREATE_CHECKLIST.SELECTALL' | translate) }}</div>
                                                    </div>
                                                    <ng-container *ngFor="let tag of filteredTagsDisplay;let i = index">
                                                        <ng-container *ngIf="tag?.name">
                                                            <mat-option class="mat-option-ni" [title]="tag?.name"
                                                                *ngIf="tag.type == coachingCnst.TAG"
                                                                (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();">

                                                                <input id="checkbox-{{i}}" type="checkbox"
                                                                    (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();"
                                                                    [value]="tag.name" [checked]="tag.checked">
                                                                <div class="label-check text-truncate"
                                                                    for="checkbox-{{i}}">
                                                                    <span>{{tag?.name}}</span>
                                                                    <div class="desc-text">{{tag?.value?.length}} {{'GUIDED_CHECKLIST.CREATE_CHECKLIST.RULES' | translate}}
                                                                    </div>
                                                                </div>
                                                            </mat-option>
                                                        </ng-container>
                                                    </ng-container>
                                                    <div class="tags-data" *ngIf="checkRulePresent() ? true  : false">
                                                        <div class="title">{{('GUIDED_CHECKLIST.CREATE_CHECKLIST.RULES' | translate) | titlecase}}</div>
                                                        <div class="select-all"
                                                            (click)="selectAllUtteranceType(coachingCnst.RULE, selectAllRuleFlag);selectAllRuleFlag = !selectAllRuleFlag">
                                                            {{ selectAllRuleFlag ? ('GUIDED_CHECKLIST.CREATE_CHECKLIST.UNSELECT_ALL' | translate) : ('GUIDED_CHECKLIST.CREATE_CHECKLIST.SELECTALL' | translate) }}
                                                        </div>
                                                    </div>
                                                    <ng-container *ngFor="let tag of filteredTagsDisplay;let i = index">
                                                        <mat-option class="mat-option-ni" [title]="tag.name"
                                                            *ngIf="tag.type == coachingCnst.RULE"
                                                            (click)="selectedOption(tag, i);$event.stopPropagation();trigger.openPanel()">

                                                            <input id="checkbox-{{i}}" type="checkbox"
                                                                (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();"
                                                                [value]="tag.name" [checked]="tag.checked">
                                                            <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                                <span>{{tag.name}}</span>
                                                            </div>
                                                        </mat-option>
                                                    </ng-container>

                                                    <mat-option class="d-none">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.AVOID_CLOSING_MATAAUTOCOMPLETE_ONSEARCH' | translate}}

                                                    </mat-option>
                                                </div>
                                                <div class="footer-add-cler-ni">
                                                    <button class="kr-sg-button-secondary-two btn_lg"
                                                        (click)="clearChipData()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CLEAR' | translate}}</button>
                                                    <button class="kr-sg-button-primary btn_lg"
                                                        (click)="addRuleData()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ADD' | translate}}</button>
                                                </div>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                    </div>
                                </div>
                                <div class="radio-block-content disabled" [ngClass]="{'active-check': assignType === 's'}">
                                    <div class="kr-sg-radiobutton">
                                        <input [ngModelOptions]="{standalone: true}" value="s" [(ngModel)]="assignType"
                                            id="radio-1ssk" name="radio" class="radio-custom" type="radio">
                                        <label for="radio-1ssk" class="radio-custom-label">
                                            <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TRIGGER_SELECTED_SKILLS' | translate}}</div>
                                            <div class="desc-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CHECKLIST_SHOWS_ONLY_CERTAIN_SKILLS' | translate}}</div>
                                        </label>
                                    </div>
                                    <div class="add-rule-block" *ngIf="false">
                                        <div class="label-text">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ADD_RULES' | translate}}</div>
                                        <mat-form-field class="add-rules-chip-list">
                                            <mat-chip-list #chipList>
                                                <mat-chip *ngFor="let tag of tags" [selectable]="true"
                                                    [removable]="true" (removed)="remove(tag)">
                                                    <span class="chip-name text-truncate mx-w-100"
                                                        title="{{tag.name}}">{{tag.name}}</span>
                                                    <span class="icon-sa-close" matChipRemove *ngIf="true"></span>
                                                </mat-chip>
                                                <input placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.SELECT_RULES' | translate}}" #tagInput [matChipInputFor]="chipList"
                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]="false" [matAutocomplete]="auto"
                                                    #trigger="matAutocompleteTrigger">
                                            </mat-chip-list>
                                            <mat-autocomplete #auto="matAutocomplete">
                                                <div class="content-scroll-ni">
                                                    <div class="search-block">
                                                        <div class="kr-sg-input-text">
                                                            <input type="text" placeholder="{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.PLACEHOLDER.SEARCH' | translate}}" class="input-text"
                                                                [formControl]="tagControl" name="search">
                                                            <i class="icon-coaching--search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="tags-data" *ngIf="checkTagPresent() ? true : false">
                                                        <div class="title">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.TAGS' | translate}}</div>
                                                        <div class="select-all"
                                                            (click)="selectAllUtteranceType(coachingCnst.TAG, selectAllTagFlag);selectAllTagFlag = !selectAllTagFlag">
                                                            {{ selectAllTagFlag ? ('GUIDED_CHECKLIST.CREATE_CHECKLIST.UNSELECT_ALL' | translate) : ('GUIDED_CHECKLIST.CREATE_CHECKLIST.SELECTALL' | translate) }}</div>
                                                    </div>
                                                    <ng-container *ngFor="let tag of filteredTagsDisplay;let i = index">
                                                        <ng-container *ngIf="tag?.name">
                                                            <mat-option class="mat-option-ni" [title]="tag?.name"
                                                                *ngIf="tag.type == coachingCnst.TAG"
                                                                (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();">

                                                                <input id="checkbox-{{i}}" type="checkbox"
                                                                    (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();"
                                                                    [value]="tag.name" [checked]="tag.checked">
                                                                <div class="label-check text-truncate"
                                                                    for="checkbox-{{i}}">
                                                                    <span>{{tag?.name}}</span>
                                                                    <div class="desc-text">{{tag?.value?.length}} {{'GUIDED_CHECKLIST.CREATE_CHECKLIST.RULES' | translate}}
                                                                    </div>
                                                                </div>
                                                            </mat-option>
                                                        </ng-container>
                                                    </ng-container>
                                                    <div class="tags-data" *ngIf="checkRulePresent() ? true  : false">
                                                        <div class="title">{{('GUIDED_CHECKLIST.CREATE_CHECKLIST.RULES' | translate) | titlecase}}</div>
                                                        <div class="select-all"
                                                            (click)="selectAllUtteranceType(coachingCnst.RULE, selectAllRuleFlag);selectAllRuleFlag = !selectAllRuleFlag">
                                                            {{ selectAllRuleFlag ? ('GUIDED_CHECKLIST.CREATE_CHECKLIST.UNSELECT_ALL' | translate) : ('GUIDED_CHECKLIST.CREATE_CHECKLIST.SELECTALL' | translate) }}
                                                        </div>
                                                    </div>
                                                    <ng-container *ngFor="let tag of filteredTagsDisplay;let i = index">
                                                        <mat-option class="mat-option-ni" [title]="tag.name"
                                                            *ngIf="tag.type == coachingCnst.RULE"
                                                            (click)="selectedOption(tag, i);$event.stopPropagation();trigger.openPanel()">

                                                            <input id="checkbox-{{i}}" type="checkbox"
                                                                (click)="selectedOption(tag, i);trigger.openPanel();$event.stopPropagation();"
                                                                [value]="tag.name" [checked]="tag.checked">
                                                            <div class="label-check text-truncate" for="checkbox-{{i}}">
                                                                <span>{{tag.name}}</span>
                                                            </div>
                                                        </mat-option>
                                                    </ng-container>

                                                    <mat-option class="d-none">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.AVOID_CLOSING_MATAAUTOCOMPLETE_ONSEARCH' | translate}}

                                                    </mat-option>
                                                </div>
                                                <div class="footer-add-cler-ni">
                                                    <button class="kr-sg-button-secondary-two btn_lg"
                                                        (click)="clearChipData()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CLEAR' | translate}}</button>
                                                    <button class="kr-sg-button-primary btn_lg"
                                                        (click)="addRuleData()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.ADD' | translate}}</button>
                                                </div>
                                            </mat-autocomplete>
                                        </mat-form-field>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div [ngClass]="{'d-none': tab !== 'trigger'}" *ngIf="checkListType !== 'primary' && loadtrigger">
                        <app-trigger-by #triggerByComp
                         [isChecklist]="true" [basic]="basic" [adherenceForm]="checkListForm"></app-trigger-by>
                    </div>
                </div>
            </perfect-scrollbar>
        </div>
        <div class="footer-actions">
            <button class="kr-sg-button-secondary btn_lg" (click)="close()">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.CANCEL' | translate}}</button>
            <button class="kr-sg-button-primary btn_lg" [disabled]="!checkListForm.valid || loading" (click)="save()" *ngIf="createOrUpdate === 'create'">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.SAVE' | translate}}</button>
            <button class="kr-sg-button-primary btn_lg" [disabled]="!checkListForm.valid || loading" (click)="update()" *ngIf="createOrUpdate === 'update'">{{'GUIDED_CHECKLIST.CREATE_CHECKLIST.UPDATE' | translate}}</button>
        </div>
    </div>
</div>
