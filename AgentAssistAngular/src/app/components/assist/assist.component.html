<div class="assist-wrapper" id="accordion">
    <div class="card-assist">
        <div class="assist-header">
            <div class="assist-header-content">
                <div class="left-title-info">
                    <h1>Assist</h1>
                    <div class="bottom-titles">
                        <p>Authenmticate</p>
                        <span>Step: <b>SSN</b></span>
                    </div>
                </div>
                <div class="actions-assist-header">
                    <button class="solid-action" aria-label="button">
                        <i class="krIocnsFont-list"></i>
                    </button>
                    <button class="solid-action" aria-label="button">
                        <i class="krIocnsFont-refresh"></i>
                    </button>
                    <button class="solid-action stop-assist" aria-label="button">
                        <span></span>
                    </button>
                    <button class="solid-action minimize-btn" aria-label="button" (click)="minimizeToggle()">
                        <i class="krIocnsFont-minimize"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="collapse-tab">
          <div class="card-body">
                <div class="card_body_acc_content">
                    <!-- <ng-container [ngTemplateOutlet]="dialogStarted"></ng-container>   -->
                    <app-ask-customer [automation]="welcomeMsgResponse" [isWelcomeMsg]="true"></app-ask-customer>
                    <!-- <ng-container [ngTemplateOutlet]="listingTriggers"></ng-container>                    
                    <ng-container [ngTemplateOutlet]="feedback"></ng-container>
                    <ng-container [ngTemplateOutlet]="dialogEnded"></ng-container>                     -->
                    <ng-container *ngFor="let res of assistResponseArray; let i = index">
                        <ng-container *ngIf="res.type == renderResponseType.SUGGESTIONS">
                            <div class="agent-utt-info" attr.id="agentUttInfo-{{res.uuid}}">
                                <div class="user-img">
                                    <img src="assets/images/userIcon.svg">
                                </div>
                                <div class="text-user">{{res.data.userInput}}</div>
                            </div>
                            <app-suggestions [suggestionResponse]="res" [agentassistArrayIndex]="i"
                                [agentassistResponseArrayLength]="assistResponseArray.length"
                                ></app-suggestions>
                        </ng-container>
                        <ng-container *ngIf="res.type == renderResponseType.SMALLTALK">
                            <app-smalltalk [smallTalkData]="res" [agentassistArrayIndex]="i"
                                [agentassistResponseArrayLength]="assistResponseArray.length"
                                [agentAssistResp]="agentAssistResponse"></app-smalltalk>
                        </ng-container>
                        <ng-container *ngIf="res.type == renderResponseType.AUTOMATION">
                            <app-dialog [automationData]="res" [agentassistArrayIndex]="i"
                                [agentassistResponseArrayLength]="assistResponseArray.length"></app-dialog>
                        </ng-container>
                        <ng-container *ngIf="res.type == renderResponseType.FEEDBACK">
                            <app-feedback [feedbackData]="res" (updateFeedbackProperties)="updateFeedbackProperties($event,i)"
                                [agentassistArrayIndex]="i" [agentassistResponseArrayLength]="assistResponseArray.length">
                            </app-feedback>
                        </ng-container>
                    </ng-container>
                </div>
          </div>
        </div>
    </div>
</div>

<!-- Templates -->
<ng-template #listingTriggers>
    <div class="empty-listing-triggers">
        <h1>Listening for triggers</h1>
        <p>AgentAssist is actively listing to your conversation and ready to assist automatically when triggered.</p>
    </div>
</ng-template>

<!-- Entity Message -->
<ng-template #entityMessage>
    <!-- error-no-reponse class add it when error-->
    <div class="entity-mesage-data">
        <div class="input-block-entity">
            <p>PizzaBase: </p>
            <input type="text" aria-label="Input">
            <div class="border-outline"></div>
            <div class="actions-inputs">
                <button class="remove-input" aria-label="Button">
                    <i class="krIocnsFont-close"></i>
                </button>
                <button class="check-input" aria-label="button">
                    <i class="krIocnsFont-check"></i>
                </button>
                <button class="success-check-input" aria-label="button">
                    <i class="krIocnsFont-check-circle"></i>
                </button>
                <button class="wrong-res-info" aria-label="button">
                    <i class="krIocnsFont-warning-solid"></i>
                    <span>3</span>
                </button>
            </div>
        </div>
        <p class="info-entity-text">Awaiting Response  |  Type to override</p>
    </div>
</ng-template>

<ng-template #feedback>
    <app-feedback></app-feedback>
</ng-template>



<ng-template #dialogStarted>
    <div class="dialog-ended-wrapper">
        <div class="middle-info">
            <p>Dialog</p>
            <button class="btn_link">Order Pizza</button>
            <p>ended</p>
        </div>
        <div class="line_bar"></div>
        <i class="krIocnsFont-check-circle"></i>
    </div>
</ng-template>

<ng-template #dialogEnded>
    <div class="dialog-ended-wrapper">
        <div class="line_bar"></div>
        <div class="middle-info">
            <p>Dialog</p>
            <button class="btn_link">Order Pizza</button>
            <p>ended</p>
        </div>
        <i class="krIocnsFont-check-circle"></i>
    </div>
</ng-template>