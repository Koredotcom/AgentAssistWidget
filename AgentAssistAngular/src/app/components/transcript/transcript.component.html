<!-- (wheel)="onScroll()" -->
<div class="transcipt-wrapper-info">
    <div class="offcanvas-header">
        <p class="paragraph semibold">{{'TRANSCRIPT' | translate}}</p>
        <button class="maximize-btn" (click)="minMaxButtonClick()" 
        [title]="maxButton ? ('MINIMIZE' | translate) : ('MAXIMIZE' | translate)">
            <i class="krIocnsFont-minimize" *ngIf="maxButton"></i>
            <i class="krIocnsFont-maximize" *ngIf="!maxButton"></i>
        </button>
    </div>
    <div class="body-canvas-wrapper">
          <ng-container>
            <div class="transcipt-content-data">
                <!-- <ng-container *ngIf="userBotConversationShow">
                    <app-user-bot-history></app-user-bot-history>
                </ng-container> -->
                <div class="scroll-agent-joined-conv" #transcriptTabHistoryText>
                    <button>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M7.99967 12.6663V3.33301M7.99967 3.33301L3.33301 7.99967M7.99967 3.33301L12.6663 7.99967" stroke="white" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <h6>{{transcriptScrollTopText}}</h6>
                    </button>
                </div>
                <!-- <ng-container [ngTemplateOutlet]="summeryTranscipt"></ng-container> -->
                <app-transcript-history></app-transcript-history>
                <ng-container *ngFor="let trans of transcriptArray">
                    <div class="transcipt-bot-bubble-comp" *ngIf="trans.type == projConstants.INCOMING">
                        <div class="bot-bubble-content hover-show-copy">
                            <div class="top-info">
                                <div class="you-text">{{parsedCustomData?.userName || (parsedCustomData?.fName + this.parsedCustomData?.lName) ||
                                    ('Customer' | translate)}}</div>
                                <div class="time-tamp"><time>{{trans.timeStr}}</time></div>
                            </div>
                            <div class="bubble-msg-with-img">
                                <div class="bubble-msg">{{trans.data.value}}</div>
                                <div class="intent-suggestion-buld" ngbTooltip="{{trans?.data?.value}}" *ngIf="trans.count" (click)="buldClick(trans)">
                                    <sub *ngIf="!trans.data.bulbClick">{{trans?.count}}</sub>
                                    <sub *ngIf="trans.data.bulbClick">&#10003;</sub>
                                    <i class="krIocnsFont-light-bulb"></i>
                                </div>
                                <!-- <div class="copy-bubble">
                                   <i class="krIocnsFont-copy"></i>
                                </div> -->
                            </div>
                        </div>
                    </div>
                   
                    <div class="transcipt-agent-bubble-comp" *ngIf="trans.type == projConstants.OUTGOING">
                        <div class="agent-bubble-content hover-show-copy">
                            <div class="top-info">
                                <div class="time-tamp"><time>{{trans?.timeStr}}</time></div>
                                <div class="you-text">{{'YOU' | translate}}</div>
                            </div>
                            <div class="bubble-msg-with-img">
                                <!-- <div class="intent-suggestion-buld" ngbTooltip="bala">
                                    <sub>1</sub>
                                    <i class="krIocnsFont-light-bulb"></i>
                                </div> -->
                                <div class="bubble-msg">{{trans?.data?.value}}</div>
                                <!-- <div class="copy-bubble">
                                    <i class="krIocnsFont-copy"></i>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </ng-container>            
            </div>

          </ng-container>
       
    </div>
</div>


<ng-template #summeryTranscipt>
    <div class="summery-info-transcript">
        <div class="heading-text">
            <i class="krIocnsFont-Aimark"></i>
            <h1>SUMMARY</h1>
        </div>
        <ul>
            <li>Customer states that their loan repayment amount is  too high</li>
            <li>Customer wants to see if there is a way to reduce loan repayment amount</li>
        </ul>
        <div class="summery-row-data">
            <div class="row-block">
                <h1>Queue:</h1>
                <div class="event-details">
                    <p class="text-truncate">Policy Renewal, Accountdetails</p>
                </div>
            </div>
            <div class="row-block">
                <h1>Intent:</h1>
                <div class="event-details">
                    <p class="text-truncate">Policy Renewal, Accountdetails</p>
                    <span class="more-tooltip" [ngbTooltip]="tipContentMore">+1more</span>
                </div>
            </div>
            <div class="row-block">
                <h1>Wait time:</h1>
                <div class="event-details">
                    <p class="text-truncate">4m 12s</p>
                </div>
            </div>
            <div class="row-block">
                <h1>Sentiment:</h1>
                <div class="event-details">
                    <p class="text-truncate">Negative</p>
                </div>
            </div>
        </div>
    </div>
</ng-template>


<ng-template #tipContentMore>
    <div class="tipcontent-summery-more-info">
        <p>Policy Renewal</p>
        <p>Account Upgrade</p>
        <p>Account Update</p>
    </div>
</ng-template>