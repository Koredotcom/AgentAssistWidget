<div class="search-block-data-suggestions">
    <div class="suggestionslist-conntent-search">
        <button class="solid-action maximize-btn" (click)="minMaxButtonClick()">
            <i class="krIocnsFont-minimize" *ngIf="maxButton"></i>
            <i class="krIocnsFont-maximize" *ngIf="!maxButton"></i>
        </button>
        <app-loader [type]="projConstants.WIDGET_LOADER" *ngIf="showSpinner"></app-loader>
        <ng-container *ngIf="(searchResponse | json) != '{}' || searched">
            <div class="sugestions-block" *ngIf="searchResponse?.dialogs?.length">
                <div class="suggestion-header">
                    <div class="icon_block">
                        <img src="assets/images/icons/dialog.svg" alt="Top Dialog Suggestion">
                    </div>
                    <h1 class="text-truncate">{{'DIALOG_TASK' | translate}}</h1>
                    <span class="count-text">{{searchResponse?.dialogs?.length}}</span>
                </div>
                <div class="suggestion-body-search">
                    <app-dialog-suggestion [searchResponse]="searchResponse"></app-dialog-suggestion>
                </div>
            </div>
            <div class="sugestions-block" *ngIf="searchResponse?.faqs?.length">
                <div class="suggestion-header">
                    <div class="icon_block">
                        <img src="assets/images/icons/custchoice.svg" alt="FAQ">
                    </div>
                    <h1 class="text-truncate">{{'FAQ' | translate}}</h1>
                    <span class="count-text">{{searchResponse?.faqs?.length}}</span>
                </div>
                <div class="suggestion-body-search">
                    <app-faq-suggestions (faqAnswerToggle)="checkAnswerAndToggle($event)" [searchResponse]="searchResponse"></app-faq-suggestions>
                </div>
            </div>
            <div class="sugestions-block" *ngIf="searchResponse?.snippets?.length">
                <div class="suggestion-header">
                    <div class="icon_block">
                        <img src="assets/images/icons/custchoice.svg" alt="Snippet">
                    </div>
                    <h1 class="text-truncate">{{'SNIPPET' | translate}}</h1>
                    <span class="count-text">{{searchResponse?.snippets?.length}}</span>
                </div>
                <div class="suggestion-body-search">
                    <app-snippet-suggestions [searchResponse]="searchResponse"></app-snippet-suggestions>
                </div>
            </div>
            <div class="sugestions-block" *ngIf="searchResponse?.articles?.length">
                <div class="suggestion-header">
                    <div class="icon_block">
                        <img src="assets/images/icons/custchoice.svg" alt="Article">
                    </div>
                    <h1 class="text-truncate">{{'ARTICLE' | translate}}</h1>
                    <span class="count-text">{{searchResponse?.articles?.length}}</span>
                </div>
                <div class="suggestion-body-search">
                    <app-article-suggestions [searchResponse]="searchResponse"></app-article-suggestions>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="(searchResponse | json) == '{}' && !searched">
            <div class="sugestions-block">
                <div class="suggestion-header">
                    <div class="icon_block">
                        <img src="assets/images/icons/dialog.svg" alt="Top Dialog Suggestion">
                    </div>
                    <h1 class="text-truncate">{{'ALL_DIALOG' | translate}}</h1>
                    <!-- <span class="count-text">2</span> -->
                </div>
                <div class="suggestion-body-search">
                    <app-dialog-suggestion (updateMenuResponseLoader)="updateMenuResponseLoader($event)"></app-dialog-suggestion>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="(searchResponse | json) == '{}' && searched">
            <div class="empty-search">No search result found</div>
        </ng-container>
    </div>
    <div class="search-block-input">
        <div class="suggestions-info" *ngIf="searchText && querySuggestions?.length">
            <button *ngFor="let suggestion of querySuggestions" title="{{suggestion}}" (click)="selectSuggestion(suggestion)">{{suggestion}}</button>
            <p>{{'SUGGESTED' | translate}}</p>
        </div>
        <div class="input-block">
            <input type="text" class="form-control" aria-describedby="search" placeholder="Search" value="Edit" [(ngModel)]="searchText"
            (ngModelChange)="onSearch($event)" (keyup.enter)="getSearchResults($event)" (keydown.Tab)="onTabClick($event)">
            <input class="suggestion-input" [value]="autocompleteText" readonly>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.33342 1.66675C4.65152 1.66675 1.66675 4.65152 1.66675 8.33342C1.66675 12.0153 4.65152 15.0001 8.33342 15.0001C9.87401 15.0001 11.2925 14.4775 12.4215 13.6L16.9108 18.0893C17.2363 18.4148 17.7639 18.4148 18.0893 18.0893C18.4148 17.7639 18.4148 17.2363 18.0893 16.9108L13.6 12.4215C14.4775 11.2925 15.0001 9.87401 15.0001 8.33342C15.0001 4.65152 12.0153 1.66675 8.33342 1.66675ZM3.33341 8.33342C3.33341 5.57199 5.57199 3.33341 8.33342 3.33341C11.0948 3.33341 13.3334 5.57199 13.3334 8.33342C13.3334 11.0948 11.0948 13.3334 8.33342 13.3334C5.57199 13.3334 3.33341 11.0948 3.33341 8.33342Z" fill="#667085"/>
            </svg>
        </div>
    </div>
</div>
